<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon_32.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="A blog to save my notes">
<meta property="og:type" content="website">
<meta property="og:title" content="Melo&#39;s blog">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Melo&#39;s blog">
<meta property="og:description" content="A blog to save my notes">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://example.com/"/>





  <title>Melo's blog</title>
  








<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Melo's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Welcome</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/06/elixir/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Meng Zhouyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/touxiang.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Melo's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/06/06/elixir/" itemprop="url">elixir</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-06-06T23:08:48+02:00">
                2024-06-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>This is the note for learning elixir with prior experience of erlang</p>
<h3 id="Basic-type"><a href="#Basic-type" class="headerlink" title="Basic type"></a>Basic type</h3><pre class="line-numbers language-elixir" data-language="elixir"><code class="language-elixir"><span class="token number">1</span>          <span class="token comment"># integer</span>
<span class="token number">0x1F</span>       <span class="token comment"># integer</span>
<span class="token number">1.0</span>        <span class="token comment"># float</span>
<span class="token boolean">true</span>       <span class="token comment"># boolean</span>
<span class="token atom symbol">:atom</span>      <span class="token comment"># atom / symbol</span>
<span class="token string">"elixir"</span>   <span class="token comment"># string</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>  <span class="token comment"># list</span>
<span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">&#125;</span>  <span class="token comment"># tuple</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>All functions in the <a target="_blank" rel="noopener" href="https://hexdocs.pm/elixir/Kernel.html"><code>Kernel</code></a> module are automatically imported into our namespace.</p>
<p>h trunc/1 is  a build in function that /1 means take 1 element</p>
<h2 id="Atoms"><a href="#Atoms" class="headerlink" title="Atoms"></a>Atoms</h2><p>An atom is a constant whose value is its own name. Some other languages call these symbols. They are often useful to enumerate over distinct values.</p>
<p>Atoms are equal if their names are equal.</p>
<p>Often they are used to express the state of an operation, by using values such as <code>:ok</code> and <code>:error</code>.</p>
<p>The booleans <code>true</code> and <code>false</code> are also atoms:</p>
<pre class="line-numbers language-elixir" data-language="elixir"><code class="language-elixir"><span class="token boolean">true</span> <span class="token operator">==</span> <span class="token atom symbol">:true</span>
<span class="token boolean">true</span>
<span class="token function">is_atom</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token boolean">true</span>
<span class="token function">is_boolean</span><span class="token punctuation">(</span><span class="token atom symbol">:false</span><span class="token punctuation">)</span>
<span class="token boolean">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>string interpolation: </p>
<p>string = “world” </p>
<p>iex&gt; “hello #{string}!” </p>
<p>I will try to solve a binary search tree problem </p>
<p>which in format </p>
<p><code>&#123;“left”: null, “value”: 3, “right”: null&#125;</code> </p>
<p>insert 2 : </p>
<p><code>&#123; “left”: &#123;“left”: null, “right”: null, “value”: 2&#125; , “value”: 3, “right”: null &#125;</code></p>
<p>which not require that it is  a balanced tree, every left node is smaller than its parent value.</p>
<p>First check the modules and functions:</p>
<h3 id="Module-and-functions"><a href="#Module-and-functions" class="headerlink" title="Module and functions"></a>Module and functions</h3><p>functions are grouped in a module</p>
<p>we can define modules and functions like</p>
<pre class="line-numbers language-elixir" data-language="elixir"><code class="language-elixir"><span class="token keyword">defmodule</span> <span class="token module class-name">Math</span> <span class="token keyword">do</span>
	<span class="token keyword">def</span> <span class="token function">sum</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token keyword">do</span>
		a <span class="token operator">+</span> b
	<span class="token keyword">end</span>
<span class="token keyword">end</span>

<span class="token module class-name">Math</span><span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token number">3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Function declarations also support guards and multiple clauses. If a function has several clauses, Elixir will try each clause until it finds one that matches. Here is an implementation of a function that checks if the given number is zero or not:</p>
<pre class="line-numbers language-elixir" data-language="elixir"><code class="language-elixir"><span class="token keyword">defmodule</span> <span class="token module class-name">Math</span> <span class="token keyword">do</span>
  <span class="token keyword">def</span> <span class="token function">zero?</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">do</span>
    <span class="token boolean">true</span>
  <span class="token keyword">end</span>

  <span class="token keyword">def</span> <span class="token function">zero?</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token keyword">when</span> <span class="token function">is_integer</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token keyword">do</span>
    <span class="token boolean">false</span>
  <span class="token keyword">end</span>
<span class="token keyword">end</span>

<span class="token module class-name">IO</span><span class="token punctuation">.</span>puts <span class="token module class-name">Math</span><span class="token punctuation">.</span><span class="token function">zero?</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>         <span class="token comment">#=> true</span>
<span class="token module class-name">IO</span><span class="token punctuation">.</span>puts <span class="token module class-name">Math</span><span class="token punctuation">.</span><span class="token function">zero?</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>         <span class="token comment">#=> false</span>
<span class="token module class-name">IO</span><span class="token punctuation">.</span>puts <span class="token module class-name">Math</span><span class="token punctuation">.</span><span class="token function">zero?</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#=> ** (FunctionClauseError)</span>
<span class="token module class-name">IO</span><span class="token punctuation">.</span>puts <span class="token module class-name">Math</span><span class="token punctuation">.</span><span class="token function">zero?</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">)</span>       <span class="token comment">#=> ** (FunctionClauseError)</span>


<span class="token keyword">defmodule</span> <span class="token module class-name">DefaultTest</span> <span class="token keyword">do</span>
  <span class="token keyword">def</span> <span class="token function">dowork</span><span class="token punctuation">(</span>x <span class="token operator">\\</span> <span class="token string">"hello"</span><span class="token punctuation">)</span> <span class="token keyword">do</span>
    x
  <span class="token keyword">end</span>
<span class="token keyword">end</span>

<span class="token keyword">defmodule</span> <span class="token module class-name">Concat</span> <span class="token keyword">do</span>
  <span class="token comment"># A function head declaring defaults</span>
  <span class="token keyword">def</span> <span class="token function">join</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b <span class="token operator">\\</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> sep <span class="token operator">\\</span> <span class="token string">" "</span><span class="token punctuation">)</span>

  <span class="token keyword">def</span> <span class="token function">join</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> _sep<span class="token punctuation">)</span> <span class="token keyword">when</span> <span class="token function">is_nil</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token keyword">do</span>
    a
  <span class="token keyword">end</span>

  <span class="token keyword">def</span> <span class="token function">join</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> sep<span class="token punctuation">)</span> <span class="token keyword">do</span>
    a <span class="token operator">&lt;></span> sep <span class="token operator">&lt;></span> b
  <span class="token keyword">end</span>
<span class="token keyword">end</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>here <code>&quot;hello&quot;</code> is the default value</p>
<h3 id="Recursion"><a href="#Recursion" class="headerlink" title="Recursion"></a>Recursion</h3><p>My favorite FP feature haha</p>
<pre class="line-numbers language-elixir" data-language="elixir"><code class="language-elixir"><span class="token keyword">defmodule</span> <span class="token module class-name">Recursion</span> <span class="token keyword">do</span>
  <span class="token keyword">def</span> <span class="token function">print_multiple_times</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span> n<span class="token punctuation">)</span> <span class="token keyword">when</span> n <span class="token operator">></span> <span class="token number">0</span> <span class="token keyword">do</span>
    <span class="token module class-name">IO</span><span class="token punctuation">.</span><span class="token function">puts</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
    <span class="token function">print_multiple_times</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token keyword">end</span>

  <span class="token keyword">def</span> <span class="token function">print_multiple_times</span><span class="token punctuation">(</span>_msg<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">do</span>
    <span class="token atom symbol">:ok</span>
  <span class="token keyword">end</span>
<span class="token keyword">end</span>

<span class="token module class-name">Recursion</span><span class="token punctuation">.</span><span class="token function">print_multiple_times</span><span class="token punctuation">(</span><span class="token string">"Hello!"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token comment"># Hello!</span>
<span class="token comment"># Hello!</span>
<span class="token comment"># Hello!</span>
<span class="token atom symbol">:ok</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>for list it also have [head | tail ] property</p>
<h4 id="Enumerables-and-Streams"><a href="#Enumerables-and-Streams" class="headerlink" title="Enumerables and Streams"></a>Enumerables and Streams</h4><pre class="line-numbers language-elixir" data-language="elixir"><code class="language-elixir"><span class="token module class-name">Enum</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">..</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token keyword">fn</span> x <span class="token operator">-></span> x <span class="token operator">*</span> <span class="token number">2</span> <span class="token keyword">end</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
<span class="token module class-name">Enum</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">..</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token operator">+</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token number">6</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>as for BST I want to check for maps </p>
<p>I got</p>
<h3 id="Nested-data-structures"><a href="#Nested-data-structures" class="headerlink" title="Nested data structures"></a>Nested data structures</h3><p>Both key-based access syntaxes can be used with the nested update functions and macros in <a target="_blank" rel="noopener" href="https://hexdocs.pm/elixir/Kernel.html"><code>Kernel</code></a></p>
<p><img src="https://i.imgur.com/r9LAdiu.png" alt="image-20240606233605167"></p>
<pre class="line-numbers language-elixir" data-language="elixir"><code class="language-elixir">languages <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">%</span><span class="token punctuation">&#123;</span><span class="token attr-name">name:</span> <span class="token string">"elixir"</span><span class="token punctuation">,</span> <span class="token attr-name">type:</span> <span class="token atom symbol">:functional</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">%</span><span class="token punctuation">&#123;</span><span class="token attr-name">name:</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token attr-name">type:</span> <span class="token atom symbol">:procedural</span><span class="token punctuation">&#125;</span>
<span class="token punctuation">]</span>
user <span class="token operator">=</span> <span class="token punctuation">%</span><span class="token punctuation">&#123;</span><span class="token attr-name">name:</span> <span class="token string">"john"</span><span class="token punctuation">,</span> <span class="token attr-name">languages:</span> languages<span class="token punctuation">&#125;</span>
<span class="token function">update_in</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token atom symbol">:languages</span><span class="token punctuation">,</span> <span class="token module class-name">Access</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token atom symbol">:name</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token module class-name">String</span><span class="token punctuation">.</span><span class="token function">upcase</span><span class="token operator">/</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">%</span><span class="token punctuation">&#123;</span>
  <span class="token attr-name">name:</span> <span class="token string">"john"</span><span class="token punctuation">,</span>
  <span class="token attr-name">languages:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">%</span><span class="token punctuation">&#123;</span><span class="token attr-name">name:</span> <span class="token string">"ELIXIR"</span><span class="token punctuation">,</span> <span class="token attr-name">type:</span> <span class="token atom symbol">:functional</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">%</span><span class="token punctuation">&#123;</span><span class="token attr-name">name:</span> <span class="token string">"C"</span><span class="token punctuation">,</span> <span class="token attr-name">type:</span> <span class="token atom symbol">:procedural</span><span class="token punctuation">&#125;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h5 id="Access-behaviour"><a href="#Access-behaviour" class="headerlink" title="Access behaviour"></a>Access behaviour</h5><p>Then what I want to do is check the data structure as we usually define nodes for BST  (struct node (self, left, right))</p>
<pre class="line-numbers language-elixir" data-language="elixir"><code class="language-elixir"><span class="token keyword">defmodule</span> <span class="token module class-name">User</span> <span class="token keyword">do</span>
  <span class="token keyword">defstruct</span> <span class="token attr-name">name:</span> <span class="token string">"John"</span><span class="token punctuation">,</span> <span class="token attr-name">age:</span> <span class="token number">27</span>
<span class="token keyword">end</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>Then we can start!</p>
<p>… elixir name .ex</p>
<p>It not hard then is the restful api section</p>
<p>:( for test with mix need to do mix new {path} —module {module name}</p>
<p>Then return to api section I’m going with<br><a target="_blank" rel="noopener" href="https://github.com/elixir-plug/plug">elixir-plug/plug: Compose web applications with functions (github.com)</a></p>
<p><a target="_blank" rel="noopener" href="https://hexdocs.pm/plug/readme.html">Plug — Plug v1.16.0 (hexdocs.pm)</a></p>
<h4 id="Simple-K8s-deployment"><a href="#Simple-K8s-deployment" class="headerlink" title="Simple K8s deployment"></a>Simple K8s deployment</h4><p>Steps:</p>
<ul>
<li>Create Container registries</li>
<li>push docker image </li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> push <span class="token punctuation">&#123;</span>ACR Name<span class="token punctuation">&#125;</span>.azurecr.io/<span class="token punctuation">&#123;</span>image<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li>Create AKS  cluster (mostly default, disable monitoring for lower cost)</li>
<li>using ACR integration with AKS (might not be that secure)</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">az aks update <span class="token parameter variable">-n</span> <span class="token operator">&lt;</span>yourAKSClusterName<span class="token operator">></span> <span class="token parameter variable">-g</span> <span class="token operator">&lt;</span>yourResourceGroup<span class="token operator">></span> --attach-acr motoprojectregistry<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li>Create <code>deployment.yaml</code> and <code>service.yaml</code> for deploy and expose port.</li>
</ul>
<p>That’s it!</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/06/DSA-part1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Meng Zhouyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/touxiang.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Melo's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/06/06/DSA-part1/" itemprop="url">DSA-part1</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-06-06T14:13:48+02:00">
                2024-06-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Here is a place to share my data structure and algorithm learning proccess.</p>
<h2 id="Running-time-and-space-complexity"><a href="#Running-time-and-space-complexity" class="headerlink" title="Running time and space complexity"></a>Running time and space complexity</h2><p>Here are some operations for which T(n)=1</p>
<ul>
<li>Assignment operator/ return statement  (Eg: int a=10).</li>
<li>Arithmetic operations (Eg: + , - , * , / ).</li>
<li>Logical operations ( Eg: &amp; , | , ^).</li>
</ul>
<p>Examples:</p>
<pre class="line-numbers language-none"><code class="language-none">sum(list,size of list):			
total&#x3D;0					—-&gt;T(n)&#x3D;1
for i-&gt;0 to size of list		—-&gt;T(n)&#x3D;n+1
total+&#x3D;list[i]			—-&gt;T(n)&#x3D;n
return total			 	—-&gt;T(n)&#x3D;1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p> <strong>T(n)=1+2(n+1)+2n+1=4n+4  (Linear)</strong></p>
<h2 id="Asymptotic-notations"><a href="#Asymptotic-notations" class="headerlink" title="Asymptotic notations"></a>Asymptotic notations</h2><p>Asymptotic notations are mathematical notations which are used to describe the running time of an algorithm when input tends towards infinity.</p>
<p>There are mainly <strong>3 types of Asymptotic notations:</strong></p>
<p><strong>1. Big-O notation</strong>: The Big-O notation describes the worst-case running time of an algorithm. It is computed by counting the number of operations it will take in the worst-case scenario with the input ‘n’.</p>
<pre class="line-numbers language-none"><code class="language-none">O(g(n)) &#x3D; &#123; f(n): there exist positive constants c and n0
           such that 0 ≤ f(n) ≤ cg(n) for all n ≥ n0 &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><strong>Example:</strong></p>
<p>Let’s say g(n) = n^2 and f(n) = 2n^2 + 3n. We can show that f(n) is in O(g(n)).</p>
<ol>
<li><strong>Find constants:</strong> We can choose c = 3 and n0 = 1.</li>
<li><strong>Verify the inequality:</strong> For all n ≥ 1, 0 ≤ 2n^2 + 3n ≤ 3n^2.</li>
</ol>
<p>Therefore, f(n) is in O(g(n)), meaning f(n) grows no faster than n^2.</p>
<p><strong>2. Big Omega() notation</strong>: The notation describes the best running time of an algorithm. It is computed by counting the number of operations it will take in the best-case scenario with the input ‘n’.</p>
<pre class="line-numbers language-none"><code class="language-none">Ω(g(n)) &#x3D; &#123; f(n): there exist positive constants c and n0 
           such that 0 ≤ cg(n) ≤ f(n) for all n ≥ n0 &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><strong>3. Big Theta() Notation</strong>: The theta notation encloses the function from above and below, therefore it defines the exact asymptotic behaviour. The notation is used for analyzing the average runtime of an algorithm.</p>
<pre class="line-numbers language-none"><code class="language-none">Θ(g(n)) &#x3D; &#123; f(n): there exist positive constants c1, c2 and n0
           such that 0 ≤ c1g(n) ≤ f(n) ≤ c2g(n) for all n ≥ n0 &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><strong>Some Common Algorithmic Runtimes. (from fastest to slowest)</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>O(1)</th>
<th>Constant Time Complexity</th>
<th>Example: Sum of two numbers.</th>
</tr>
</thead>
<tbody>
<tr>
<td>O(logn)</td>
<td>Logarithmic Time Complexity</td>
<td>Example: Finding an element in a sorted array by using binary search.</td>
</tr>
<tr>
<td>O(n)</td>
<td>Linear Time Complexity</td>
<td>Example: Finding the sum of an array of size n.</td>
</tr>
<tr>
<td>O(n logn)</td>
<td>Log-Linear Time Complexity</td>
<td>Example: Sorting the array using merge sort.</td>
</tr>
<tr>
<td>O(n2)</td>
<td>Quadratic Time Complexity</td>
<td>Example: Finding the sum of every pair of elements in an array.</td>
</tr>
<tr>
<td>O(2n)</td>
<td>Exponential Time Complexity</td>
<td>Example: Finding all the subsets.</td>
</tr>
<tr>
<td>O(n!)</td>
<td>Factorial Time Complexity</td>
<td>Example: Finding all the permutations of a given array.</td>
</tr>
</tbody>
</table>
</div>
<p>analyze time complexity for:</p>
<p>a) very large input size</p>
<p>b) worst case scenario</p>
<p>T(n) = $n^3$ + $n^2$ +1 -&gt; $n^3$ when n -&gt; $\infty$</p>
<pre class="line-numbers language-none"><code class="language-none">time complexity
In the following C++ function, let n &gt;&#x3D; m.


int gcd(int n, int m) &#123;
  if (n%m &#x3D;&#x3D;0) return m;
  if (n &lt; m) swap(n, m);
  while (m &gt; 0) &#123;
    n &#x3D; n%m;
    swap(n, m);
  &#125;
  return n;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>wort case n/2 n/4 n/8 … -&gt; logn</p>
<p>Cheat Sheet</p>
<p><img src="https://d3n0h9tb65y8q.cloudfront.net/public_assets/assets/000/003/684/original/Time_Complexity_Cheat_Sheet.png?1660658458" alt="img"></p>
<p>rf model  </p>
<p>[SUMMARY]<br>INFO :      Run finished 2 rounds in 6.49s<br>INFO :      History (loss, distributed):<br>INFO :          ‘\tround 1: 0.0\n\tround 2: 0.0\n’History (metrics, distributed, fit):<br>INFO :          {‘Accuracy’: [(1, 0.0), (2, 0.0)],<br>INFO :           ‘F1_Score’: [(1, 0.0), (2, 0.0)],<br>INFO :           ‘Precision’: [(1, 0.0), (2, 0.0)],<br>INFO :           ‘Recall’: [(1, 0.0), (2, 0.0)]}History (metrics, distributed, evaluate):<br>INFO :          {‘Accuracy’: [(1, 0.346154), (2, 0.358974)],<br>INFO :           ‘F1_Score’: [(1, 0.304843), (2, 0.317664)],<br>INFO :           ‘Precision’: [(1, 0.31688), (2, 0.323291)],<br>INFO :           ‘Recall’: [(1, 0.346154), (2, 0.358974)]}</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/05/24/AWSEssentials/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Meng Zhouyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/touxiang.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Melo's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/05/24/AWSEssentials/" itemprop="url">AWSEssentials</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-05-24T14:53:38+02:00">
                2024-05-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/DevOps/" itemprop="url" rel="index">
                    <span itemprop="name">DevOps</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="/2024/05/24/AWSEssentials/github\blog\source\_posts\image-20240524145403035.png" alt="image-20240524145403035"></p>
<p> AWS access</p>
<ul>
<li><strong>Effect</strong> indicates whether to <em>Allow</em> or <em>Deny</em> the permissions.</li>
<li><strong>Action</strong> specifies the API calls allowed to an AWS service (such as <em>cloudwatch:ListMetrics</em>).</li>
<li><strong>Resource</strong> defines the scope of entities covered by the policy rule (i.e., a specific Amazon S3 bucket, Amazon EC2 instance</li>
</ul>
<p>ECs: cluster of EC2</p>
<p><strong>REMOVE THE UNDIFFERENTIATED HEAVY LIFTING</strong></p>
<p>If you run your code on Amazon EC2, AWS is responsible for the physical hardware and you are responsible for the logical controls, such as guest operating system, security and patching, networking, security, and scaling.If you run your code in containers on Amazon ECS and Amazon EKS, AWS is responsible for more of the container management, such as deploying containers across EC2 instances and managing the container cluster. However, when running ECS and EKS on EC2, you are still responsible for maintaining the underlying EC2 instances.If you want to deploy your workloads and applications without having to manage any EC2 instances, you can do that on AWS with <em>serverless</em> compute.</p>
<p><strong>GO SERVERLESS</strong></p>
<p>Every definition of serverless mentions four aspects.</p>
<ul>
<li>No servers to provision or manage.</li>
<li>Scales with usage.</li>
<li>You never pay for idle resources.</li>
<li>Availability and fault tolerance are built-in.</li>
</ul>
<p>Amazon ECS and Amazon EKS enable you to run your containers in two <strong>modes</strong>.</p>
<ul>
<li>Amazon EC2 mode</li>
<li>AWS Fargate mode</li>
</ul>
<p>AWS Fargate is a purpose-built serverless compute engine for containers. </p>
<h5 id="AWS-Lambda"><a href="#AWS-Lambda" class="headerlink" title="AWS Lambda"></a>AWS Lambda</h5><p><img src="https://i.imgur.com/0DK05aM.png" alt="image-20240526131446780"></p>
<p>It consists of  trigger, code, and configuration, </p>
<h3 id="VPC"><a href="#VPC" class="headerlink" title="VPC"></a>VPC</h3><p>boundary for inside and outside project</p>
<p>Create VPC:</p>
<ul>
<li>Regiion</li>
<li>IP Range</li>
</ul>
<p>To create a subnet:</p>
<ul>
<li>VPC</li>
<li>AZ: availability zone</li>
<li>IP Range (CIDR block)</li>
</ul>
<h5 id="Connectivity-Internet-Gateway"><a href="#Connectivity-Internet-Gateway" class="headerlink" title="Connectivity: Internet Gateway"></a>Connectivity: Internet Gateway</h5><p>attach to VPC</p>
<p>VGW virtual Internet gateway</p>
<h4 id="VPC-route-tables"><a href="#VPC-route-tables" class="headerlink" title="VPC route tables"></a>VPC route tables</h4><p>pulic / priavte</p>
<p><strong>security</strong></p>
<p>open up inbound ports to accept traffic from the internet</p>
<ul>
<li>Block storage in the cloud is analogous to <strong>direct-attached storage (DAS) or a storage area network (SAN)</strong>.</li>
<li>File storage systems are often supported with a <strong>network attached storage (NAS)</strong> server.</li>
</ul>
<h4 id="EBS-elastic-block-storage"><a href="#EBS-elastic-block-storage" class="headerlink" title="EBS elastic block storage"></a>EBS elastic block storage</h4><p>drive separate from EC2</p>
<h3 id="Benefits-of-Using-Amazon-EBS"><a href="#Benefits-of-Using-Amazon-EBS" class="headerlink" title="Benefits of Using Amazon EBS"></a>Benefits of Using Amazon EBS</h3><p>Here are the following benefits of using Amazon EBS (in case you need a quick cheat sheet).</p>
<ul>
<li>High availability: When you create an EBS volume, it is automatically replicated within its Availability Zone to prevent data loss from single points of failure.</li>
<li>Data persistence: The storage persists even when your instance doesn’t.</li>
<li>Data encryption: All EBS volumes support encryption.</li>
<li>Flexibility: EBS volumes support on-the-fly changes. You can modify volume type, volume size, and input/output operations per second (IOPS) capacity without stopping your instance.</li>
<li>Backups: Amazon EBS provides you the ability to create backups of any EBS volume.</li>
</ul>
<h4 id="S3"><a href="#S3" class="headerlink" title="S3"></a>S3</h4><p><img src="https://i.imgur.com/nmrWvKf.png" alt="image-20240526210059846"></p>
<p>objects stored in containers called <strong>buckets</strong></p>
<p>S3 bucket policies are similar to IAM policies, in that they are both defined using the same policy language in a JSON format. The difference is IAM policies are attached to users, groups, and roles, whereas S3 bucket policies are only attached to buckets. S3 bucket policies specify what actions are allowed or denied on the bucket.</p>
<p><strong>ENCRYPT S3</strong></p>
<p>Amazon S3 reinforces encryption in transit (as it travels to and from Amazon S3) and at rest. To protect data at rest, you can use:</p>
<ul>
<li><strong>Server-side encryption:</strong> This allows Amazon S3 to encrypt your object before saving it on disks in its data centers and then decrypt it when you download the objects.</li>
<li><strong>Client-side encryption:</strong> Encrypt your data client-side and upload the encrypted data to Amazon S3. In this case, you manage the encryption process, the encryption keys, and all related tools.</li>
</ul>
<p>To encrypt in transit, you can use client-side encryption or Secure Sockets Layer (SSL).</p>
<p>EBS only be attached to EC2 and can not be large in size</p>
<p>EC Instance storage: not kept long not durability</p>
<p>persistence  and durability: EBS</p>
<p>Lambda: S3</p>
<p>temporary data: EC Instance storage</p>
<ul>
<li>EFS (elastic file storage system (extra))</li>
</ul>
<h4 id="THE-BENEFITS-OF-USING-A-RELATIONAL-DATABASE"><a href="#THE-BENEFITS-OF-USING-A-RELATIONAL-DATABASE" class="headerlink" title="THE BENEFITS OF USING A RELATIONAL DATABASE"></a>THE BENEFITS OF USING A RELATIONAL DATABASE</h4><p>There are many benefits to using a relational database. A few of them are listed here.</p>
<ul>
<li><strong>Joins:</strong> You can join tables, enabling you to better understand relationships between your data.</li>
<li><strong>Reduced redundancy:</strong> You can store data in one table and reference it from other tables instead of saving the same data in different places.</li>
<li><strong>Familiarity:</strong> Relational databases have been a popular choice since the 1970s. Due to this popularity, technical professionals often have familiarity and experience with this type of database.</li>
<li><strong>Accuracy:</strong> Relational databases ensure that your data is persisted with high integrity and adheres to the ACID (atomicity, consistency, isolation, durability) principle.</li>
</ul>
<h5 id="What-Is-Amazon-DynamoDB"><a href="#What-Is-Amazon-DynamoDB" class="headerlink" title="What Is Amazon DynamoDB?"></a>What Is Amazon DynamoDB?</h5><p>Amazon DynamoDB is a fully managed NoSQL database service that provides fast and predictable performance with seamless scalability. </p>
<h4 id="Automatic-scaling"><a href="#Automatic-scaling" class="headerlink" title="Automatic scaling"></a>Automatic scaling</h4><h5 id="vertical-scaling"><a href="#vertical-scaling" class="headerlink" title="vertical scaling"></a>vertical scaling</h5><p>With EC2 instances, you select either a larger type or a different instance type. This can only be done while the instance is in a stopped state. In this scenario, the following steps occur: </p>
<ol>
<li>Stop the passive instance. This doesn’t impact the application since it’s not taking any traffic.</li>
<li>Change the instance size or type, then start the instance again.</li>
<li>Shift the traffic to the passive instance, turning it active.</li>
<li>The last step is to stop, change the size, and start the previous active instance as both instances should match.</li>
</ol>
<h5 id="Horizontal-scaling"><a href="#Horizontal-scaling" class="headerlink" title="Horizontal scaling"></a>Horizontal scaling</h5><p>for the application to work in an active-active system, it’s already created as stateless, not storing any client session on the server. This means that having two servers or having four wouldn’t require any application changes. It would only be a matter of creating more instances when required and shutting them down when the traffic decreases.</p>
<p>The Amazon EC2 Auto Scaling service can take care of that task by automatically creating and removing EC2 instances based on metrics from Amazon CloudWatch. </p>
<p>There are three main components to EC2 Auto Scaling.</p>
<ul>
<li><strong>Launch template or configuration:</strong> What resource should be automatically scaled?</li>
<li><strong>EC2 Auto Scaling Group:</strong> Where should the resources be deployed?</li>
<li><strong>Scaling policies:</strong> When should the resources be added or removed?</li>
</ul>
<p><img src="https://i.imgur.com/NkDWxKp.png" alt="image-20240603144938720"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/05/22/crash/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Meng Zhouyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/touxiang.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Melo's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/05/22/crash/" itemprop="url">crash</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-05-22T18:17:16+02:00">
                2024-05-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="create-component"><a href="#create-component" class="headerlink" title="create component"></a>create component</h3><pre class="line-numbers language-none"><code class="language-none">ng generate component home --inline-template --skip-tests<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>open app.component.ts<br><code>Input</code> decorator</p>
<p>@Input() housingLocation!: HousingLocation;<br>!: input is expecting the value to be passed. In this case, there is no default value.</p>
<pre class="line-numbers language-angular" data-language="angular"><code class="language-angular">&lt;app-housing-location
        [housingLocation]&#x3D;&quot;housingLocation&quot;
      &gt;&lt;&#x2F;app-housing-location&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>When adding a property binding to a component tag, we use the <code>[attribute] = &quot;value&quot;</code> syntax to notify Angular that the assigned value should be treated as a property from the component class and not a string value.</p>
<p>In Angular, <code>ngFor</code> is a specific type of <a target="_blank" rel="noopener" href="https://angular.io/guide/built-in-directives">directive</a> used to dynamically repeat data in a template.</p>
<h4 id="Angular-services"><a href="#Angular-services" class="headerlink" title="Angular services"></a>Angular services</h4><p><em>Angular services</em> provide a way for you to separate Angular app data and functions that can be used by multiple components in your app. To be used by multiple components, a service must be made <em>injectable</em>. Services that are injectable and used by a component become dependencies of that component. The component depends on those services and can’t function without them.</p>
<p>constructor is the first function runs when the component is created</p>
<h3 id="get-the-id-in-the-routes-xxx-id"><a href="#get-the-id-in-the-routes-xxx-id" class="headerlink" title="get the id in the routes /xxx/:id"></a>get the id in the routes /xxx/:id</h3><p>in the component</p>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">DetailsComponent</span> <span class="token punctuation">&#123;</span>
    route<span class="token operator">:</span> ActivatedRoute <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span>ActivatedRoute<span class="token punctuation">)</span><span class="token punctuation">;</span>
    housingLocationId <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>housingLocationId <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>route<span class="token punctuation">.</span>snapshot<span class="token punctuation">.</span>params<span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p> <code>ActivatedRoute</code> router feature that enables you to have access to the data about the current route</p>
<pre class="line-numbers language-none"><code class="language-none">&lt;input type&#x3D;&quot;text&quot; placeholder&#x3D;&quot;Filter by city&quot; #filter &#x2F;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h1 id="This-example-uses-a-template-reference-variable-to-get-access-to-the-input-element-as-its-value"><a href="#This-example-uses-a-template-reference-variable-to-get-access-to-the-input-element-as-its-value" class="headerlink" title="This example uses a template reference variable to get access to the input element as its value."></a>This example uses a <a target="_blank" rel="noopener" href="https://angular.io/guide/template-reference-variables">template reference variable</a> to get access to the <code>input</code> element as its value.</h1>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/05/21/c-dotNet/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Meng Zhouyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/touxiang.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Melo's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/05/21/c-dotNet/" itemprop="url">c#dotNet</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-05-21T23:26:34+02:00">
                2024-05-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>dotnet <commnad> <argument> <option></option></argument></commnad></p>
<p><img src="https://i.imgur.com/Uch8PaS.png" alt="image-20240521235139506"></p>
<p><img src="https://i.imgur.com/fVTl9nv.png" alt="image-20240521235209945"></p>
<p>Solid understanding of, and experience with, the Angular platform, JavaScript, and TypeScript </p>
<p>Experience in C# and .NET ecosystem</p>
<p>Azure </p>
<p>You also have experience writing automated tests Excellent troubleshooting skills and responsiveness to problem-solving that prioritizes the customer experience first </p>
<p>You have a “boy scout” mentality and will therefore always leave the code in a better shape than it was before you updated it You have experience and enjoy working in an agile setup </p>
<p>You thrive in projects where the boundaries, scope, and goals are defined as we go and keep a constant eye out for new ways of working and ideas to maximize business impact </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/05/20/railsdocker/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Meng Zhouyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/touxiang.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Melo's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/05/20/railsdocker/" itemprop="url">railsdocker</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-05-20T12:23:04+02:00">
                2024-05-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>CMD and EntryPoint</p>
<pre class="line-numbers language-none"><code class="language-none">version: &quot;3.8&quot;

services:
  db:
    image: postgres:latest
    environment:
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: $&#123;CONEXUS_DATABASE_PASSWORD&#125;
      POSTGRES_DB: conexus_development
    volumes:
      - postgres_data:&#x2F;var&#x2F;lib&#x2F;postgresql&#x2F;data
    ports:
      - &quot;5432:5432&quot;

  web:
    build: .
    command: bundle exec rails server -b 0.0.0.0
    volumes:
      - .:&#x2F;app
    ports:
      - &quot;3000:3000&quot;
    depends_on:
      - db
    environment:
      DATABASE_URL: postgres:&#x2F;&#x2F;postgres:$&#123;CONEXUS_DATABASE_PASSWORD&#125;@db:5432&#x2F;conexus_development
      RAILS_MAX_THREADS: 5

volumes:
  postgres_data:
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/05/18/review-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Meng Zhouyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/touxiang.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Melo's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/05/18/review-1/" itemprop="url">docker review</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-05-18T20:48:45+02:00">
                2024-05-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/software-engineering/" itemprop="url" rel="index">
                    <span itemprop="name">software engineering</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h1><p>start from docker file</p>
<pre class="line-numbers language-docker" data-language="docker"><code class="language-docker">From: <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="Commands-Keywords"><a href="#Commands-Keywords" class="headerlink" title="Commands: Keywords"></a>Commands: Keywords</h3><p><strong>From:</strong> basic image for the new image<br><strong>WORDIR</strong>: working directory<br><strong>COPY</strong>: copying files or directories from the build context to the image</p>
<p><strong>Run</strong>: executes commands in the Shell</p>
<p><strong>Expose</strong>: informs Docker the container will listen on specific port on run time</p>
<p><strong>ENV</strong>: set environment variable during process</p>
<p><strong>ARG</strong>: define build time variables</p>
<p><strong>VOLUME</strong>: create a mount point for externally mounted volumes</p>
<p><strong>CMD</strong>: provide default command to execute when the container start (flexible, can be overridden)</p>
<p><strong>ENTRYPOINT</strong>: Cannot be overridden</p>
<p>docker run</p>
<h3 id="create-own-image"><a href="#create-own-image" class="headerlink" title="create own image"></a>create own image</h3><p>docker build -t(tag)</p>
<h4 id="port-mapping"><a href="#port-mapping" class="headerlink" title="port mapping"></a>port mapping</h4><p>map port container and local machine</p>
<p>-v “$(pwd):/app” volume keeptrack of local file</p>
<p> -v /app/node_modules changes in dependencies won’t need reinstall</p>
<h2 id="Docker-compose"><a href="#Docker-compose" class="headerlink" title="Docker compose"></a>Docker compose</h2><p>YML file configure services volumes and network</p>
<p>docker compose up</p>
<p>with cli to generate the file docker init</p>
<h3 id="Docker-compose-wathch"><a href="#Docker-compose-wathch" class="headerlink" title="Docker compose wathch"></a>Docker compose wathch</h3><p>rebuild the app</p>
<p>automatically update the app</p>
<h5 id="Three-main-things"><a href="#Three-main-things" class="headerlink" title="Three main things"></a>Three main things</h5><ul>
<li>sync: everything up to date</li>
<li>Rebuild</li>
<li>Sync-restart: sync modification and restart the container</li>
</ul>
<p>web</p>
<p>develop: for docker watch</p>
<pre class="line-numbers language-none"><code class="language-none">develop:
      # we specify the files to watch for changes
      watch:
        # it&#39;ll watch for changes in package.json and package-lock.json and rebuild the container if there are any changes
        - path: .&#x2F;frontend&#x2F;package.json
          action: rebuild
        - path: .&#x2F;frontend&#x2F;package-lock.json
          action: rebuild
        # it&#39;ll watch for changes in the frontend directory and sync the changes with the container real time
        - path: .&#x2F;frontend
          target: &#x2F;app
          action: sync<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/04/24/flower/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Meng Zhouyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/touxiang.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Melo's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/04/24/flower/" itemprop="url">flower</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-04-24T20:25:04+02:00">
                2024-04-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>Central machine learning: move the data to the computation</li>
<li>Federated (machine) learning: move the computation to the data</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/03/12/LeetCode-Eng/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Meng Zhouyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/touxiang.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Melo's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/03/12/LeetCode-Eng/" itemprop="url">LeetCode_Eng</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-03-12T15:30:19+01:00">
                2024-03-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index">
                    <span itemprop="name">LeetCode</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <pre class="line-numbers language-none"><code class="language-none">class Solution:
    def jump(self, nums: List[int]) -&gt; int:
        steps &#x3D; 0
        end &#x3D; 0
        farthest &#x3D; 0
        for i in range(len(nums)-1):
            farthest &#x3D; max(farthest, i + nums[i])
            if farthest &gt;&#x3D; len(nums) -1:
                steps +&#x3D; 1
                break
            if i &#x3D;&#x3D; end:
                steps +&#x3D; 1
                end &#x3D; farthest
        return steps
        <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>BFS keep track of farthest distance and return minimum step</p>
<h4 id="Value-except-itself"><a href="#Value-except-itself" class="headerlink" title="Value except itself"></a>Value except itself</h4><p>prefix and postfix product</p>
<p><img src="https://i.imgur.com/mocVEe7.png" alt="image-20240312202916303"></p>
<h4 id="Gas-Station-Greed-algorithm"><a href="#Gas-Station-Greed-algorithm" class="headerlink" title="Gas Station - Greed algorithm"></a>Gas Station - Greed algorithm</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">canCompleteCircuit</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> gas<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cost<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>gas<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>cost<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>  
                                             
        tank <span class="token operator">=</span> idx <span class="token operator">=</span> <span class="token number">0</span>                  
                                             
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>gas<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            
                                             
            tank<span class="token operator">+=</span> gas<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-</span>cost<span class="token punctuation">[</span>i<span class="token punctuation">]</span>             
            <span class="token keyword">if</span> tank <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span> tank<span class="token punctuation">,</span> idx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> i<span class="token operator">+</span><span class="token number">1</span> 
                                            
        <span class="token keyword">return</span> idx     <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Guarantee there is a solution exists then find the unique solution</p>
<h4 id="Candy-Greed-algorithm"><a href="#Candy-Greed-algorithm" class="headerlink" title="Candy - Greed algorithm"></a>Candy - Greed algorithm</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">//</span> two path
<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">candy</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> ratings<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        children <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>ratings<span class="token punctuation">)</span>
        candies <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> children
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> children<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> ratings<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> ratings<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                candies<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> candies<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>children<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> ratings<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> ratings<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                candies<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>candies<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> candies<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>candies<span class="token punctuation">)</span>
<span class="token operator">//</span> on <span class="token keyword">pass</span>
<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">candy</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> ratings<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> ratings<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token number">0</span>
        
        ret<span class="token punctuation">,</span> up<span class="token punctuation">,</span> down<span class="token punctuation">,</span> peak <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span>
        
        <span class="token keyword">for</span> prev<span class="token punctuation">,</span> curr <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>ratings<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ratings<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> prev <span class="token operator">&lt;</span> curr<span class="token punctuation">:</span>
                up<span class="token punctuation">,</span> down<span class="token punctuation">,</span> peak <span class="token operator">=</span> up <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> up <span class="token operator">+</span> <span class="token number">1</span>
                ret <span class="token operator">+=</span> <span class="token number">1</span> <span class="token operator">+</span> up
            <span class="token keyword">elif</span> prev <span class="token operator">==</span> curr<span class="token punctuation">:</span>
                up <span class="token operator">=</span> down <span class="token operator">=</span> peak <span class="token operator">=</span> <span class="token number">0</span>
                ret <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                up<span class="token punctuation">,</span> down <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> down <span class="token operator">+</span> <span class="token number">1</span>
                ret <span class="token operator">+=</span> down <span class="token operator">+</span> <span class="token builtin">int</span><span class="token punctuation">(</span>peak <span class="token operator">&lt;</span> down<span class="token punctuation">)</span>
        
        <span class="token keyword">return</span> ret                
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="One-Pass-Greedy-Algorithm-Up-Down-Peak-Method"><a href="#One-Pass-Greedy-Algorithm-Up-Down-Peak-Method" class="headerlink" title="One-Pass Greedy Algorithm: Up-Down-Peak Method"></a>One-Pass Greedy Algorithm: Up-Down-Peak Method</h2><h3 id="Why-Up-Down-and-Peak"><a href="#Why-Up-Down-and-Peak" class="headerlink" title="Why Up, Down, and Peak?"></a>Why <code>Up</code>, <code>Down</code>, and <code>Peak</code>?</h3><p>The essence of the one-pass greedy algorithm lies in these three variables: <code>Up</code>, <code>Down</code>, and <code>Peak</code>. They serve as counters for the following:</p>
<ul>
<li><strong><code>Up</code>:</strong> Counts how many children have <strong>increasing ratings</strong> from the last child. This helps us determine how many candies we need for a child with a higher rating than the previous child.</li>
<li><strong><code>Down</code>:</strong> Counts how many children have <strong>decreasing ratings</strong> from the last child. This helps us determine how many candies we need for a child with a lower rating than the previous child.</li>
<li><strong><code>Peak</code>:</strong> Keeps track of the <strong>last highest point</strong> in an increasing sequence. When we have a decreasing sequence after the peak, we can refer back to the <code>Peak</code> to adjust the number of candies if needed.</li>
</ul>
<hr>
<ol>
<li>Loop Through Ratings<ul>
<li>For each pair of adjacent children, compare their ratings. Here are the scenarios:<ul>
<li><strong>If the rating is increasing</strong>: Update <code>up</code> and <code>peak</code> by incrementing them by 1. Set <code>down</code> to 0. Add <code>up + 1</code> to <code>ret</code> because the current child must have one more candy than the previous child.</li>
<li><strong>If the rating is the same</strong>: Reset <code>up</code>, <code>down</code>, and <code>peak</code> to 0, because neither an increasing nor a decreasing trend is maintained. Add 1 to <code>ret</code> because the current child must have at least one candy.</li>
<li><strong>If the rating is decreasing</strong>: Update <code>down</code> by incrementing it by 1. Reset <code>up</code> to 0. Add <code>down</code> to <code>ret</code>. Additionally, if <code>peak</code> is greater than or equal to <code>down</code>, decrement <code>ret</code> by 1. This is because the peak child can share the same number of candies as one of the children in the decreasing sequence, which allows us to reduce the total number of candies.</li>
</ul>
</li>
</ul>
</li>
</ol>
<p><code>for prev, curr in zip(ratings[:-1], ratings[1:]):</code></p>
<p>creating two list from [1,2,3,4] -&gt; [1,2,3] , [2,3,4]</p>
<p>Example [1, 5, 4, 3, 2, 1]</p>
<p>for child 1 and 2: increase then its  1 + 2 = 3 up: 1, peak: 1 [1, 2 , <em>, </em>, <em>, </em>]</p>
<p>for child 2 , 3 : decrease 3 + 1 + int(1 &lt; 1) = 4  up: 0  peak: 1 down: 1 [1, 2, </p>
<p>1, <strong> ,  </strong>,_ ]</p>
<p>for child 3,4 : decrease 4 + 2 + int(1 &lt; 2) = 7 peak: 1 down: 2 </p>
<p>[1, 3, 2 , 1, <em>, </em>]</p>
<p>for child 4,5: decrease: 7 + 3 + int(1 &lt; 3) = 11</p>
<p>[1, 4, 3, 2, 1, _]</p>
<p>compensate peak for 1 </p>
<h3 id="Sliding-window"><a href="#Sliding-window" class="headerlink" title="Sliding window"></a>Sliding window</h3><p>use dict to keep track of each element need to be tracked,  </p>
<p>and sliding from one side to another like find the left point and move a step to the right</p>
<h4 id="36-Valid-sudoku"><a href="#36-Valid-sudoku" class="headerlink" title="36. Valid sudoku"></a>36. Valid sudoku</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">isValidSudoku</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> board<span class="token punctuation">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>
        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                element <span class="token operator">=</span> board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span>
                <span class="token keyword">if</span> element <span class="token operator">!=</span> <span class="token string">'.'</span><span class="token punctuation">:</span>
                    res <span class="token operator">+=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> element<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>element<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>i <span class="token operator">//</span> <span class="token number">3</span><span class="token punctuation">,</span> j <span class="token operator">//</span> <span class="token number">3</span><span class="token punctuation">,</span> element<span class="token punctuation">)</span><span class="token punctuation">]</span>
        <span class="token keyword">return</span> <span class="token builtin">len</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">set</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>find position of existing numbers for x position, y position, position in the 3x3 matrix, if there is duplicate then it breaks the rule</p>
<h4 id="Binary-Tree"><a href="#Binary-Tree" class="headerlink" title="Binary Tree"></a>Binary Tree</h4><p><img src="https://i.imgur.com/4CEkaDo.png" alt="image-20240320153921714"></p>
<p>by recursion  </p>
<ol>
<li><p>Construct Binary tree from preorder and inorder</p>
<ol>
<li><p><strong>Reasoning:</strong></p>
<ul>
<li><strong>Root Node Selection:</strong> We choose the first value of the preorder traversal as the root because, in a preorder traversal, the root node is visited first.</li>
<li><strong>Finding Index of Root in Inorder:</strong> By finding the index of the root in the inorder list, we effectively split the inorder list into two halves: elements to the left represent nodes in the left subtree, and elements to the right represent nodes in the right subtree.</li>
<li><strong>Recursive Splitting:</strong> Recursively splitting the inorder list into left and right subtrees helps maintain the relative ordering of nodes in the tree, ensuring the correctness of the constructed binary tree.</li>
<li><strong>Preorder for Subtrees:</strong> After identifying the size of the left subtree from the inorder list, the subsequent elements in the preorder list represent nodes in the left subtree. Similarly, the remaining elements in the preorder list correspond to nodes in the right subtree, allowing us to construct the subtrees recursively.</li>
</ul>
<p>Identify the preorder and Inorder sequence</p>
</li>
</ol>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># Definition for a binary tree node.</span>
<span class="token comment"># class TreeNode:</span>
<span class="token comment">#     def __init__(self, val=0, left=None, right=None):</span>
<span class="token comment">#         self.val = val</span>
<span class="token comment">#         self.left = left</span>
<span class="token comment">#         self.right = right</span>
<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">buildTree</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> preorder<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> inorder<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> Optional<span class="token punctuation">[</span>TreeNode<span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> preorder <span class="token keyword">or</span> <span class="token keyword">not</span> inorder<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">None</span>
        inorder_map <span class="token operator">=</span> <span class="token punctuation">&#123;</span>val<span class="token punctuation">:</span> index <span class="token keyword">for</span> index<span class="token punctuation">,</span> val <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>inorder<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>    
        <span class="token keyword">def</span> <span class="token function">build</span><span class="token punctuation">(</span>pre_start<span class="token punctuation">,</span> pre_end<span class="token punctuation">,</span> in_start<span class="token punctuation">,</span> in_end<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> pre_start <span class="token operator">></span> pre_end<span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token boolean">None</span>       
            root_val <span class="token operator">=</span> preorder<span class="token punctuation">[</span>pre_start<span class="token punctuation">]</span>
            root <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span>root_val<span class="token punctuation">)</span>

            in_index <span class="token operator">=</span> inorder_map<span class="token punctuation">[</span>root_val<span class="token punctuation">]</span>
            left_size <span class="token operator">=</span> in_index <span class="token operator">-</span> in_start

             <span class="token comment"># Recursively build the left subtree</span>
            root<span class="token punctuation">.</span>left <span class="token operator">=</span> build<span class="token punctuation">(</span>pre_start <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> pre_start <span class="token operator">+</span> left_size<span class="token punctuation">,</span> in_start<span class="token punctuation">,</span> in_index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>

            <span class="token comment"># Recursively build the right subtree</span>
            root<span class="token punctuation">.</span>right <span class="token operator">=</span> build<span class="token punctuation">(</span>pre_start <span class="token operator">+</span> left_size <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> pre_end<span class="token punctuation">,</span> in_index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> in_end<span class="token punctuation">)</span>

            <span class="token keyword">return</span> root
        
        <span class="token keyword">return</span> build<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>preorder<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>inorder<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<p><img src="https://i.imgur.com/sDTidsF.png" alt="image-20240320165257180"></p>
<h5 id="236-Lowest-Common-Ancestor-of-a-Binary-Tree"><a href="#236-Lowest-Common-Ancestor-of-a-Binary-Tree" class="headerlink" title="236. Lowest Common Ancestor of a Binary Tree"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/lowest-common-ancestor-of-a-binary-tree/">236. Lowest Common Ancestor of a Binary Tree</a></h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">lowestCommonAncestor</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> <span class="token string">'TreeNode'</span><span class="token punctuation">,</span> p<span class="token punctuation">:</span> <span class="token string">'TreeNode'</span><span class="token punctuation">,</span> q<span class="token punctuation">:</span> <span class="token string">'TreeNode'</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token string">'TreeNode'</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> root <span class="token keyword">or</span> root <span class="token operator">==</span> p <span class="token keyword">or</span> root <span class="token operator">==</span> q<span class="token punctuation">:</span>
            <span class="token keyword">return</span> root

        l <span class="token operator">=</span> self<span class="token punctuation">.</span>lowestCommonAncestor<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> p<span class="token punctuation">,</span> q<span class="token punctuation">)</span>
        r <span class="token operator">=</span> self<span class="token punctuation">.</span>lowestCommonAncestor<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> p<span class="token punctuation">,</span> q<span class="token punctuation">)</span>

        <span class="token keyword">if</span> l <span class="token keyword">and</span> r<span class="token punctuation">:</span>
            <span class="token keyword">return</span> root
        <span class="token keyword">return</span> l <span class="token keyword">or</span> r<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Find the common ancestor, if not the common lowest ancestor,</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/02/28/elasticSearch/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Meng Zhouyang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/touxiang.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Melo's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/02/28/elasticSearch/" itemprop="url">elasticSearch</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-02-28T15:25:06+01:00">
                2024-02-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Sharding speed up search</p>
<p><strong>Replica shards</strong> reliabilty / improve elastic search</p>
<p><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--j2je7gXG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev-to-uploads.s3.amazonaws.com/i/843wihmgijd7wwku7a13.png" alt="Alt Text"></p>
<p>create index </p>
<p>put [name]</p>
<p>generate doc</p>
<p>POST favorite_candy/_doc</p>
<p>…{</p>
<p>}</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/">&lt;i class&#x3D;&quot;fa fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/touxiang.jpg"
                alt="Meng Zhouyang" />
            
              <p class="site-author-name" itemprop="name">Meng Zhouyang</p>
              <p class="site-description motion-element" itemprop="description">A blog to save my notes</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%7C%7C%20archive">
              
                  <span class="site-state-item-count">45</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">13</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="mailto:zmeng18cc@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Meng Zhouyang</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>








        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
